<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PRRCH ‚Äì Photo Recognition, Repair & Care Hub</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #050711;
      color: #f9fafb;
    }
    .page {
      max-width: 960px;
      margin: 0 auto;
      padding: 40px 20px 80px;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(56, 189, 248, 0.1);
      color: #7dd3fc;
      font-size: 12px;
    }
    .badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
    }
    h1 {
      font-size: 40px;
      line-height: 1.1;
      margin: 24px 0 8px;
    }
    h2 {
      font-size: 18px;
      margin: 0 0 24px;
      color: #9ca3af;
      font-weight: 400;
    }
    .layout {
      display: grid;
      gap: 32px;
    }
    @media (min-width: 900px) {
      .layout {
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      }
    }

    .card {
      background: radial-gradient(circle at top left, rgba(59,130,246,0.22), transparent 55%),
                  linear-gradient(145deg, rgba(15,23,42,0.95), rgba(15,23,42,0.9));
      border-radius: 24px;
      padding: 28px 24px 24px;
      box-shadow: 0 24px 60px rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.22);
    }
    .card-title {
      font-size: 16px;
      margin-bottom: 4px;
    }
    .card-sub {
      font-size: 13px;
      color: #9ca3af;
      margin-bottom: 18px;
    }
    .upload-zone {
      border-radius: 18px;
      border: 1px dashed rgba(148,163,184,0.6);
      padding: 20px 18px;
      background: rgba(15,23,42,0.85);
      text-align: center;
    }
    .upload-zone p {
      margin: 0 0 18px;
      font-size: 14px;
      color: #e5e7eb;
    }
    .btn-main {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      background: linear-gradient(135deg, #38bdf8, #6366f1);
      color: #0b1120;
      box-shadow: 0 14px 35px rgba(37,99,235,0.5);
    }
    .btn-main:disabled {
      opacity: 0.4;
      cursor: default;
      box-shadow: none;
    }
    .btn-secondary {
      margin-top: 14px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
      font-size: 13px;
      cursor: pointer;
    }
    .btn-secondary:disabled {
      opacity: 0.35;
      cursor: default;
    }
    .file-list {
      margin-top: 18px;
      border-radius: 14px;
      background: rgba(15,23,42,0.95);
      padding: 12px 12px 10px;
      font-size: 12px;
      text-align: left;
      max-height: 180px;
      overflow: auto;
    }
    .file-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 4px;
      border-bottom: 1px solid rgba(31,41,55,0.9);
    }
    .file-row:last-child {
      border-bottom: none;
    }
    .file-name {
      color: #e5e7eb;
      max-width: 240px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .file-meta {
      color: #9ca3af;
      font-size: 11px;
    }
    .status {
      margin-top: 14px;
      font-size: 12px;
      color: #9ca3af;
      text-align: left;
    }
    .status strong {
      color: #f9fafb;
    }

    /* === AI details panel extras === */
    .ai-panel {
      margin-top: 18px;
      border-radius: 16px;
      background: rgba(15,23,42,0.98);
      border: 1px solid rgba(148,163,184,0.25);
      padding: 12px 14px 10px;
      font-size: 12px;
      text-align: left;
    }
    .ai-panel-title {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 8px;
      font-weight: 600;
      color: #e5e7eb;
    }
    .ai-panel-title .icon {
      font-size: 13px;
    }
    .ai-grid {
      display: grid;
      gap: 10px;
    }
    @media (min-width: 640px) {
      .ai-grid {
        grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      }
    }
    .ai-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 6px;
    }
    .ai-chip {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 11px;
      border: 1px solid rgba(148,163,184,0.45);
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
    }
    .ai-chip span.count {
      font-weight: 600;
    }
    .ai-chip.urgent {
      border-color: rgba(248,113,113,0.8);
      background: rgba(127,29,29,0.75);
      color: #fee2e2;
    }
    .ai-chip.soon {
      border-color: rgba(234,179,8,0.8);
      background: rgba(113,63,18,0.75);
      color: #fef9c3;
    }
    .ai-chip.routine {
      border-color: rgba(56,189,248,0.7);
      background: rgba(8,47,73,0.9);
      color: #e0f2fe;
    }
    .ai-issues-list {
      list-style: disc;
      margin: 0;
      padding-left: 18px;
      color: #9ca3af;
    }
    .ai-issues-list li {
      margin-bottom: 3px;
    }
    .ai-next {
      font-size: 11px;
      color: #9ca3af;
    }
    .ai-next strong {
      display: block;
      margin-bottom: 4px;
      color: #e5e7eb;
    }

    .steps {
      font-size: 14px;
      color: #e5e7eb;
      line-height: 1.6;
    }
    .steps strong {
      color: #f9fafb;
    }
    .steps h3 {
      font-size: 15px;
      margin: 0 0 8px;
      color: #e5e7eb;
    }
    .steps p {
      margin: 0 0 14px;
      color: #9ca3af;
    }

    .footer {
      margin-top: 48px;
      font-size: 11px;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 8px;
    }
    .footer a {
      color: #9ca3af;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="badge">
      <span class="badge-dot"></span>
      Early prototype ‚Äì visuals only, nothing is sent anywhere.
    </div>

    <h1>Drop your photos. We‚Äôll turn them into a plan.</h1>
    <h2>
      PRRCH is a quiet preview of Raevn‚Äôs photo-to-action workspace.
      For now, this page lets you try the upload flow and see a mock ‚ÄúAI gut check‚Äù
      without anything leaving your browser.
    </h2>

    <div class="layout">
      <!-- LEFT: Uploader -->
      <div class="card">
        <div class="card-title">Upload inspection photos or reports</div>
        <div class="card-sub">
          Drop inspection photos or your finished inspection PDF here, or choose files from your device.
          Prototype only ‚Äî files never leave your browser.
        </div>

        <div class="upload-zone" id="drop-zone">
          <p>Drop files here, or click below to choose.</p>
          <button class="btn-main" id="choose-btn">
            <span>üì∑ Choose photos / PDF</span>
          </button>
          <input
            type="file"
            id="file-input"
            multiple
            style="display:none"
            accept="image/*,.pdf"
          />

          <div class="file-list" id="file-list" style="display:none"></div>

          <button class="btn-secondary" id="analyze-btn" disabled>
            <span>‚öôÔ∏è Run mock AI analysis</span>
          </button>

          <div class="status" id="status-msg">
            <strong>Prototype note:</strong> uploads stay local to this browser. In the real app,
            this step feeds a private Photaction workspace.
          </div>

          <!-- NEW: AI details panel -->
          <div class="ai-panel" id="ai-details" style="display:none;">
            <div class="ai-panel-title">
              <span class="icon">üß†</span>
              <span>Mock AI gut check details</span>
            </div>

            <div class="ai-grid">
              <div>
                <div class="ai-badges" id="severity-badges"></div>
                <ul class="ai-issues-list" id="issue-list"></ul>
              </div>

              <div class="ai-next">
                <strong>Next steps (prototype view):</strong>
                <ul>
                  <li>Review urgent items marked in red.</li>
                  <li>Decide what you‚Äôd like vendors to see.</li>
                  <li>When ready, share a trimmed ‚Äúvendor view‚Äù only.</li>
                </ul>
              </div>
            </div>
          </div>
          <!-- END AI details panel -->
        </div>
      </div>

      <!-- RIGHT: Explanation -->
      <div class="steps">
        <h3>Phase 1 ‚Äì Upload & organize</h3>
        <p>
          Take the messy camera roll or inspection report and group photos and pages into a single
          ‚ÄúPhotaction‚Äù ‚Äì the starting point for estimates, checklists, and quotes.
        </p>

        <h3>Phase 2 ‚Äì AI ‚Äúgut check‚Äù (simulated here)</h3>
        <p id="ai-summary">
          This prototype will soon give you a rough ‚ÄúAI gut check‚Äù summary:
          how many pages, how many flagged items, and which issues look urgent.
          For now, click ‚ÄúRun mock AI analysis‚Äù to see a fake example based on the files you picked.
        </p>

        <h3>Phase 3 ‚Äì Local quotes (opt-in)</h3>
        <p>
          When you‚Äôre ready, you‚Äôll choose what to share with vetted vendors.
          Until then, everything stays private to you. Vendors only see what you approve
          once you‚Äôre comfortable with the scope and estimated ranges.
        </p>
      </div>
    </div>

    <div class="footer">
      <span>PRRCH ‚Äì Photo Recognition, Repair & Care Hub.</span>
      <span>Built on the Raevn intelligence layer. Prototype only ‚Äì UI and flow preview.</span>
    </div>
  </div>

  <script>
    const fileInput = document.getElementById('file-input');
    const chooseBtn = document.getElementById('choose-btn');
    const fileListEl = document.getElementById('file-list');
    const analyzeBtn = document.getElementById('analyze-btn');
    const statusMsg = document.getElementById('status-msg');
    const aiSummary = document.getElementById('ai-summary');
    const dropZone = document.getElementById('drop-zone');

    // NEW: AI panel refs
    const aiDetails = document.getElementById('ai-details');
    const severityBadges = document.getElementById('severity-badges');
    const issueList = document.getElementById('issue-list');

    let files = [];

    chooseBtn.addEventListener('click', () => fileInput.click());
    fileInput.addEventListener('change', (e) => handleFiles(e.target.files));

    // Drag & drop
    ['dragenter', 'dragover'].forEach(evt =>
      dropZone.addEventListener(evt, (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropZone.style.borderColor = '#38bdf8';
      })
    );
    ['dragleave', 'drop'].forEach(evt =>
      dropZone.addEventListener(evt, (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropZone.style.borderColor = 'rgba(148,163,184,0.6)';
      })
    );
    dropZone.addEventListener('drop', (e) => {
      if (e.dataTransfer?.files?.length) {
        handleFiles(e.dataTransfer.files);
      }
    });

    function handleFiles(fileList) {
      files = Array.from(fileList);
      renderFileList();
      // reset AI details whenever the file set changes
      aiDetails.style.display = 'none';
      severityBadges.innerHTML = '';
      issueList.innerHTML = '';

      if (files.length > 0) {
        analyzeBtn.disabled = false;
        statusMsg.innerHTML =
          '<strong>Files loaded locally.</strong> Click ‚ÄúRun mock AI analysis‚Äù to see a simulated summary.';
      } else {
        analyzeBtn.disabled = true;
        statusMsg.innerHTML =
          '<strong>Prototype note:</strong> uploads stay local to this browser. In the real app, this feeds a private Photaction workspace.';
      }
    }

    function renderFileList() {
      if (!files.length) {
        fileListEl.style.display = 'none';
        fileListEl.innerHTML = '';
        return;
      }
      fileListEl.style.display = 'block';
      fileListEl.innerHTML = files.map(f => {
        const sizeKb = (f.size / 1024).toFixed(1);
        return `
          <div class="file-row">
            <div class="file-name" title="${f.name}">${f.name}</div>
            <div class="file-meta">
              ${(f.type || 'unknown')} ¬∑ ${sizeKb} KB
            </div>
          </div>
        `;
      }).join('');
    }

    analyzeBtn.addEventListener('click', () => {
      if (!files.length) return;
      analyzeBtn.disabled = true;
      analyzeBtn.textContent = 'Analyzing‚Ä¶';

      statusMsg.innerHTML =
        'Running mock analysis in your browser. In the real build, this would hand off to Raevn‚Äôs AI layer.';

      // Fake ‚ÄúAI‚Äù timing
      setTimeout(() => {
        const totalFiles = files.length;
        const pdfCount = files.filter(f => f.type.toLowerCase().includes('pdf')).length;
        const imageCount = totalFiles - pdfCount;
        const approxIssues = Math.max(3, Math.round(totalFiles * 4 + Math.random() * 6));
        const urgentIssues = Math.max(1, Math.round(approxIssues * 0.3));
        const fixSoon = Math.max(1, Math.round(approxIssues * 0.4));
        const routineIssues = Math.max(0, approxIssues - urgentIssues - fixSoon);

        aiSummary.innerHTML = `
          <strong>Mock AI gut check:</strong><br/>
          ‚Ä¢ Files received: <strong>${totalFiles}</strong> (${imageCount} photos, ${pdfCount} PDFs)<br/>
          ‚Ä¢ Estimated findings: <strong>${approxIssues}</strong> potential issues<br/>
          ‚Ä¢ Urgent: <strong>${urgentIssues}</strong> items recommended for early attention<br/><br/>
          In the real PRRCH workspace, this step would create a Photaction with
          grouped photos, highlighted issues, and ready-to-share scopes. Here it‚Äôs just
          a safe preview so you can feel how the flow behaves.
        `;

        // === NEW: fill AI details panel ===
        severityBadges.innerHTML = `
          <div class="ai-chip urgent">
            <span>Urgent</span> ¬∑ <span class="count">${urgentIssues}</span>
          </div>
          <div class="ai-chip soon">
            <span>Fix soon</span> ¬∑ <span class="count">${fixSoon}</span>
          </div>
          <div class="ai-chip routine">
            <span>Routine</span> ¬∑ <span class="count">${routineIssues}</span>
          </div>
        `;

        const hints = [
          'Water intrusion, staining, or active leaks',
          'Electrical or panel concerns that may be safety related',
          'HVAC equipment showing age, rust, or corrosion',
          'Roof, fascia, or gutter sections with visible damage',
          'Foundation or structural cracks that merit a closer look',
          'Cosmetic items you might defer to a later phase'
        ];

        const issueItems = [];
        for (let i = 0; i < Math.min(approxIssues, hints.length); i++) {
          issueItems.push(`<li>${hints[i]}</li>`);
        }
        if (approxIssues > hints.length) {
          issueItems.push(`<li>+ ${approxIssues - hints.length} additional minor items grouped for review.</li>`);
        }
        issueList.innerHTML = issueItems.join('');

        aiDetails.style.display = 'block';

        statusMsg.innerHTML =
          '<strong>Done.</strong> This was a local-only mock. No files were uploaded or stored.';
        analyzeBtn.textContent = 'Run mock AI analysis again';
        analyzeBtn.disabled = false;
      }, 1200);
    });
  </script>
</body>
</html>
